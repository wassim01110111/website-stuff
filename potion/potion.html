<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Clock Puzzle</title>
    <link rel="stylesheet" href="clock.css" />
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="title-header">
      <button onclick="location.href = '../index.html'">
        ‚¨Ö Back to Riddle Selection
      </button>
      <span>Sefirah Castle Theft 1</span>
      <button onclick="location.reload()">üîÑÔ∏è Retry</button>
    </div>
    <div class="rules-container">
      <h2>Rules</h2>
      <ul class="rules">
        <li>Help Amon steal Sefirah Castle</li>
        <li>
          As the clock-hand that tampers with time, you've successfully
          established an initial connection.
        </li>
        <li>Solid gray blocks allow you to move in every direction.</li>
        <li>
          The hands of a clock show which direction you can go, however these
          hands turn every time you move.
        </li>
        <li>
          Do not go out of bounds or you'll lose access to Sefirah Castle.
        </li>
        <li>Do not walk on the red blocks or you will be killed!</li>
        <li>
          Use the gamepad or arrow keys to help you navigate Sefirah Castle.
        </li>
        <li>
          Finish in <span class="maxMove"></span> moves before Klein takes full
          control of your Spirit Body Threads.
        </li>
      </ul>
    </div>
    <div style="display: flex; align-items: center; gap: 10px">
      <button id="undo">Undo</button>
      <p style="margin: 0">
        Moves: <span id="moveCount">0</span> / <span class="maxMove"></span>
      </p>
    </div>
    <div class="status" id="status"></div>
    <div id="grid"></div>
    <div id="placeholder"></div>
    <div id="gamepad">
      <button id="up">‚Üë</button>
      <div>
        <button id="left">‚Üê</button>
        <button id="down">‚Üì</button>
        <button id="right">‚Üí</button>
      </div>
    </div>
    <script>
      const LEVEL_MATRIX = [
        [
          { type: "clock", color: "white", directions: [1] },
          { type: "clock", color: "white", directions: [1, 0] },
          { type: "clock", color: "white", directions: [0] },
          { type: "solid" },
          { type: "clock", color: "white", directions: [1] },
          { type: "clock", color: "white", directions: [3] },
          { type: "death" },
        ],
        [
          { type: "clock", color: "white", directions: [1] },
          { type: "clock", color: "white", directions: [0, 1] },
          { type: "clock", color: "white", directions: [0, 2] },
          { type: "clock", color: "white", directions: [0, 3] },
          { type: "clock", color: "white", directions: [1, 2] },
          { type: "clock", color: "white", directions: [2] },
          { type: "death" },
        ],
        [
          { type: "clock", color: "white", directions: [2] },
          { type: "clock", color: "white", directions: [0, 2] },
          { type: "clock", color: "white", directions: [1, 3] },
          { type: "clock", color: "white", directions: [3] },
          { type: "clock", color: "white", directions: [1] },
          { type: "clock", color: "white", directions: [1, 2] },
          { type: "death" },
        ],
        [
          { type: "solid" },
          { type: "clock", color: "white", directions: [0] },
          { type: "clock", color: "white", directions: [2] },
          { type: "clock", color: "white", directions: [3] },
          { type: "clock", color: "white", directions: [3, 2] },
          { type: "clock", color: "white", directions: [1] },
          { type: "win" },
        ],
      ];
      const maxMove = 13;
    </script>

    <script src="clock.js"></script>
  </body>
</html>
